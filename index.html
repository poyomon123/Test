<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïπ¥Ìéò ÏòàÏïΩÏ£ºÎ¨∏ ÏãúÏä§ÌÖú</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            width: 100%;
            padding: 40px;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .menu-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: white;
            border-radius: 8px;
            transition: all 0.3s ease;
            flex-wrap: wrap;
            gap: 10px;
        }

        .menu-item:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .menu-item input[type="number"] {
            width: 80px;
            text-align: center;
        }

        .menu-info {
            flex: 1;
            min-width: 150px;
        }

        .menu-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .order-type-mini {
            display: none;
            gap: 5px;
            align-items: center;
        }

        .order-type-mini.show {
            display: flex;
        }

        .order-type-mini-btn {
            padding: 6px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            background: white;
            color: #666;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        .order-type-mini-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .order-type-mini-btn:hover {
            border-color: #667eea;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }

        .quantity-btn {
            width: 35px;
            height: 35px;
            border: none;
            background: #f0f0f0;
            color: #333;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn:hover {
            background: #667eea;
            color: white;
        }

        .quantity-btn:active {
            transform: scale(0.95);
        }

        .quantity-control input[type="number"] {
            border: none;
            width: 60px;
            text-align: center;
            font-weight: 600;
            -moz-appearance: textfield;
        }

        .quantity-control input[type="number"]::-webkit-outer-spin-button,
        .quantity-control input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .menu-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .menu-price {
            color: #667eea;
            font-size: 14px;
        }

        .temperature-select {
            width: 100px;
            padding: 8px;
            font-size: 14px;
            display: none;
        }

        .temperature-select.show {
            display: block;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .total-section {
            background: #f0f4ff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            text-align: right;
        }

        .total-amount {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .success-message {
            display: none;
            background: #4caf50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .datetime-input {
            display: flex;
            gap: 10px;
        }

        .datetime-input input {
            flex: 1;
        }

        @media (max-width: 768px) {
            .menu-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .menu-info {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚òï Ïπ¥Ìéò ÏòàÏïΩÏ£ºÎ¨∏</h1>
        
        <form id="reservationForm">
            <div class="form-group">
                <label for="customerName">Ïù¥Î¶Ñ *</label>
                <input type="text" id="customerName" name="customerName" required placeholder="ÌôçÍ∏∏Îèô">
            </div>

            <div class="form-group">
                <label for="customerPhone">Ïó∞ÎùΩÏ≤ò *</label>
                <input type="tel" id="customerPhone" name="customerPhone" required placeholder="010-1234-5678">
            </div>

            <div class="form-group">
                <label>ÌîΩÏóÖ ÎÇ†Ïßú Î∞è ÏãúÍ∞Ñ *</label>
                <div class="datetime-input">
                    <input type="date" id="pickupDate" name="pickupDate" required>
                    <input type="time" id="pickupTime" name="pickupTime" required min="09:00" max="21:00">
                </div>
            </div>

            <div class="menu-section">
                <h3 style="margin-bottom: 15px; color: #333;">Î©îÎâ¥ ÏÑ†ÌÉù</h3>
                
                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏</div>
                        <div class="menu-price">4,500Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="americano-type">
                            <button type="button" class="order-type-mini-btn" data-menu="americano" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="americano" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <select class="temperature-select" id="americano-temp">
                            <option value="">ÏÑ†ÌÉù</option>
                            <option value="ice">ÏïÑÏù¥Ïä§</option>
                            <option value="hot">Ìï´</option>
                        </select>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="americano-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="americano-qty" data-price="4500" data-name="ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="americano-qty">+</button>
                        </div>
                    </div>
                </div>

                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">Ïπ¥ÌéòÎùºÎñº</div>
                        <div class="menu-price">5,000Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="latte-type">
                            <button type="button" class="order-type-mini-btn" data-menu="latte" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="latte" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="latte-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="latte-qty" data-price="5000" data-name="Ïπ¥ÌéòÎùºÎñº" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="latte-qty">+</button>
                        </div>
                    </div>
                </div>

                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">Ïπ¥Ìë∏ÏπòÎÖ∏</div>
                        <div class="menu-price">5,000Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="cappuccino-type">
                            <button type="button" class="order-type-mini-btn" data-menu="cappuccino" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="cappuccino" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="cappuccino-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="cappuccino-qty" data-price="5000" data-name="Ïπ¥Ìë∏ÏπòÎÖ∏" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="cappuccino-qty">+</button>
                        </div>
                    </div>
                </div>

                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">Î∞îÎãêÎùºÎùºÎñº</div>
                        <div class="menu-price">5,500Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="vanilla-type">
                            <button type="button" class="order-type-mini-btn" data-menu="vanilla" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="vanilla" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="vanilla-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="vanilla-qty" data-price="5500" data-name="Î∞îÎãêÎùºÎùºÎñº" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="vanilla-qty">+</button>
                        </div>
                    </div>
                </div>

                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">Ïπ¥ÎùºÎ©úÎßàÌÇ§ÏïÑÌÜ†</div>
                        <div class="menu-price">6,000Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="caramel-type">
                            <button type="button" class="order-type-mini-btn" data-menu="caramel" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="caramel" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="caramel-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="caramel-qty" data-price="6000" data-name="Ïπ¥ÎùºÎ©úÎßàÌÇ§ÏïÑÌÜ†" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="caramel-qty">+</button>
                        </div>
                    </div>
                </div>

                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">ÏïÑÏù¥Ïä§Ìã∞</div>
                        <div class="menu-price">4,000Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="icetea-type">
                            <button type="button" class="order-type-mini-btn" data-menu="icetea" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="icetea" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="icetea-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="icetea-qty" data-price="4000" data-name="ÏïÑÏù¥Ïä§Ìã∞" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="icetea-qty">+</button>
                        </div>
                    </div>
                </div>

                <div class="menu-item">
                    <div class="menu-info">
                        <div class="menu-name">Ïä§Î¨¥Îîî</div>
                        <div class="menu-price">6,500Ïõê</div>
                    </div>
                    <div class="menu-controls">
                        <div class="order-type-mini" id="smoothie-type">
                            <button type="button" class="order-type-mini-btn" data-menu="smoothie" data-type="dine-in">ü™ë Îß§Ïû•</button>
                            <button type="button" class="order-type-mini-btn" data-menu="smoothie" data-type="takeout">üõçÔ∏è Ìè¨Ïû•</button>
                        </div>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn minus" data-target="smoothie-qty">‚àí</button>
                            <input type="number" class="menu-quantity" id="smoothie-qty" data-price="6500" data-name="Ïä§Î¨¥Îîî" min="0" value="0" readonly>
                            <button type="button" class="quantity-btn plus" data-target="smoothie-qty">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="specialRequest">ÌäπÎ≥Ñ ÏöîÏ≤≠ÏÇ¨Ìï≠</label>
                <textarea id="specialRequest" name="specialRequest" rows="3" placeholder="Ïòà: ÏïÑÏù¥Ïä§ Ï†ÅÍ≤å, ÏÉ∑ Ï∂îÍ∞Ä Îì±"></textarea>
            </div>

            <div class="total-section">
                <div class="total-amount">Ï¥ù Í∏àÏï°: <span id="totalAmount">0</span>Ïõê</div>
            </div>

            <button type="submit" class="submit-btn">ÏòàÏïΩ Ï£ºÎ¨∏ÌïòÍ∏∞</button>
        </form>

        <div class="success-message" id="successMessage">
            ÏòàÏïΩÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! ÌîΩÏóÖ ÏãúÍ∞ÑÏóê ÎßûÏ∂∞ Î∞©Î¨∏Ìï¥Ï£ºÏÑ∏Ïöî.
        </div>
    </div>

    <script>
        // Î©îÎâ¥Î≥Ñ Ï£ºÎ¨∏ ÌÉÄÏûÖ Ï†ÄÏû•
        const menuOrderTypes = {};

        // Îß§Ïû•/Ìè¨Ïû• Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        document.querySelectorAll('.order-type-mini-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const menuName = this.dataset.menu;
                const orderType = this.dataset.type;
                
                // Í∞ôÏùÄ Î©îÎâ¥Ïùò Îã§Î•∏ Î≤ÑÌäºÎì§ÏóêÏÑú selected Ï†úÍ±∞
                document.querySelectorAll(`[data-menu="${menuName}"]`).forEach(b => {
                    b.classList.remove('selected');
                });
                
                // ÌÅ¥Î¶≠Ìïú Î≤ÑÌäºÏóê selected Ï∂îÍ∞Ä
                this.classList.add('selected');
                
                // Ï£ºÎ¨∏ ÌÉÄÏûÖ Ï†ÄÏû•
                menuOrderTypes[menuName] = orderType;
            });
        });

        // +/- Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨
        document.querySelectorAll('.quantity-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const targetId = this.dataset.target;
                const input = document.getElementById(targetId);
                let currentValue = parseInt(input.value) || 0;
                
                if (this.classList.contains('plus')) {
                    currentValue++;
                } else if (this.classList.contains('minus') && currentValue > 0) {
                    currentValue--;
                }
                
                input.value = currentValue;
                
                // Î©îÎâ¥ Ïù¥Î¶Ñ Ï∂îÏ∂ú (Ïòà: americano-qty -> americano)
                const menuName = targetId.replace('-qty', '');
                
                // Îß§Ïû•/Ìè¨Ïû• ÏÑ†ÌÉù Î≤ÑÌäº ÌëúÏãú/Ïà®ÍπÄ
                const orderTypeDiv = document.getElementById(`${menuName}-type`);
                if (currentValue > 0) {
                    orderTypeDiv.classList.add('show');
                    // Í∏∞Î≥∏Í∞íÏúºÎ°ú Îß§Ïû• ÏÑ†ÌÉù
                    if (!menuOrderTypes[menuName]) {
                        const dineInBtn = orderTypeDiv.querySelector('[data-type="dine-in"]');
                        dineInBtn.click();
                    }
                } else {
                    orderTypeDiv.classList.remove('show');
                    delete menuOrderTypes[menuName];
                }
                
                // ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏Ïùò Í≤ΩÏö∞ Ïò®ÎèÑ ÏÑ†ÌÉùÎèÑ ÌëúÏãú/Ïà®ÍπÄ
                if (menuName === 'americano') {
                    const tempSelect = document.getElementById('americano-temp');
                    if (currentValue > 0) {
                        tempSelect.classList.add('show');
                        tempSelect.required = true;
                    } else {
                        tempSelect.classList.remove('show');
                        tempSelect.required = false;
                        tempSelect.value = '';
                    }
                }
                
                calculateTotal();
            });
        });

        // Ï¥ù Í∏àÏï° Í≥ÑÏÇ∞
        function calculateTotal() {
            let total = 0;
            const quantities = document.querySelectorAll('.menu-quantity');
            
            quantities.forEach(input => {
                const price = parseInt(input.dataset.price);
                const quantity = parseInt(input.value) || 0;
                total += price * quantity;
            });
            
            document.getElementById('totalAmount').textContent = total.toLocaleString();
        }

        // Ïò§Îäò ÎÇ†ÏßúÎ•º ÏµúÏÜåÍ∞íÏúºÎ°ú ÏÑ§Ï†ï
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('pickupDate').min = today;

        // Ìèº Ï†úÏ∂ú Ï≤òÎ¶¨
        document.getElementById('reservationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Ï£ºÎ¨∏ ÎÇ¥Ïó≠ ÏàòÏßë
            const orderItems = [];
            document.querySelectorAll('.menu-quantity').forEach(input => {
                const quantity = parseInt(input.value) || 0;
                if (quantity > 0) {
                    const menuName = input.id.replace('-qty', '');
                    
                    // Îß§Ïû•/Ìè¨Ïû• ÏÑ†ÌÉù ÌôïÏù∏
                    if (!menuOrderTypes[menuName]) {
                        alert(`${input.dataset.name}Ïùò Îß§Ïû•/Ìè¨Ïû•ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.`);
                        return;
                    }
                    
                    const item = {
                        name: input.dataset.name,
                        quantity: quantity,
                        price: parseInt(input.dataset.price),
                        orderType: menuOrderTypes[menuName] === 'dine-in' ? 'Îß§Ïû•' : 'Ìè¨Ïû•'
                    };
                    
                    // ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏Ïù∏ Í≤ΩÏö∞ Ïò®ÎèÑ Ï∂îÍ∞Ä
                    if (menuName === 'americano') {
                        const temp = document.getElementById('americano-temp').value;
                        if (!temp) {
                            alert('ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏Ïùò Ïò®ÎèÑÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                            return;
                        }
                        item.temperature = temp === 'ice' ? 'ÏïÑÏù¥Ïä§' : 'Ìï´';
                    }
                    
                    orderItems.push(item);
                }
            });

            if (orderItems.length === 0) {
                alert('ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅÏùò Î©îÎâ¥Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }

            // Ï£ºÎ¨∏ Ï†ïÎ≥¥ ÏàòÏßë
            const orderData = {
                customerName: document.getElementById('customerName').value,
                customerPhone: document.getElementById('customerPhone').value,
                pickupDate: document.getElementById('pickupDate').value,
                pickupTime: document.getElementById('pickupTime').value,
                items: orderItems,
                specialRequest: document.getElementById('specialRequest').value,
                totalAmount: parseInt(document.getElementById('totalAmount').textContent.replace(/,/g, ''))
            };

            // Ïã§Ï†úÎ°úÎäî ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°ÌïòÍ≤†ÏßÄÎßå, Ïó¨Í∏∞ÏÑúÎäî ÏΩòÏÜîÏóê Ï∂úÎ†•
            console.log('Ï£ºÎ¨∏ Ï†ïÎ≥¥:', orderData);

            // ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú
            document.getElementById('successMessage').style.display = 'block';
            
            // Ìèº Ï¥àÍ∏∞Ìôî
            setTimeout(() => {
                this.reset();
                document.querySelectorAll('.order-type-mini').forEach(div => {
                    div.classList.remove('show');
                });
                document.querySelectorAll('.order-type-mini-btn').forEach(btn => {
                    btn.classList.remove('selected');
                });
                document.getElementById('americano-temp').classList.remove('show');
                calculateTotal();
                document.getElementById('successMessage').style.display = 'none';
                // Ï£ºÎ¨∏ ÌÉÄÏûÖ Ï¥àÍ∏∞Ìôî
                for (let key in menuOrderTypes) {
                    delete menuOrderTypes[key];
                }
            }, 3000);
        });
    </script>
</body>
</html>
